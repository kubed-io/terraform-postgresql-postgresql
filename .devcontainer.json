// For format details, see https://aka.ms/devcontainer.json. For config options, see the
// README at: https://github.com/devcontainers/templates/tree/main/src/docker-existing-docker-compose
{
	"name": "Kubed PostgreSQL Terraform Modules",
	"image": "kubed/devcontainers:latest",
	// "workspaceFolder": "/workspaces/${localWorkspaceFolderBasename}",
	"features": {
		"ghcr.io/devcontainers-extra/features/opentofu:1": {}
	},
	"containerEnv": {
		"XDG_CONFIG_HOME": "/kubed",
		"OP_CONNECT_HOST": "${env:OP_CONNECT_HOST}",
		"OP_CONNECT_SERVER": "${env:OP_CONNECT_SERVER}",
		"OP_CONNECT_TOKEN_NAME": "kubed-postgres-modules",
		"OP_VAULT_NAME": "${env:OP_VAULT_NAME}",
		"OP_SSH_SECRET": "${env:OP_SSH_SECRET}"
	},
	"onCreateCommand": "/kubed/scripts/on-create.sh",
	"customizations": {
		"vscode": {
			"extensions": [
				"redhat.vscode-yaml",
				"github.copilot",
				"github.vscode-github-actions"
			],
			"settings": {

			}
		}
	}
}